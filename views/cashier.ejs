<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/cashier.css" />
        <link rel="shortcut icon" href="/img/machine.png" type="image/x-icon" />
        <title>Cashier</title>
        <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    </head>
    <body class="bg-[url('/img/background.png')] bg-cover bg-center bg-no-repeat h-screen font-regular text-white">
        <header class="flex justify-center pt-10 gap-4">
            <a href="/accueil" class="flex justify-center rounded-md bg-red-500 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-red-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-900 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]">Accueil</a>
            <a href="/scores" class="flex justify-center rounded-md bg-yellow-400 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-yellow-300 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-yellow-400 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]">Scores</a>
            <a href="/memory" class="flex justify-center rounded-md bg-red-900 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-red-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-900 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]">Memory</a>
            <a href="/catcher" class="flex justify-center rounded-md bg-red-900 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-red-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-900 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]">Catcher</a>
            <a href="/cashier" class="flex justify-center rounded-md bg-red-900 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-red-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-900 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]">Cashier</a>
            <a href="/profil" class="flex justify-center rounded-md bg-red-500 px-3 py-1.5 text-3xl font-semibold text-white shadow-xs hover:bg-red-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-900 [text-shadow:-2px_-2px_0_#000,2px_-2px_0_#000,-2px_2px_0_#000,2px_2px_0_#000]"><%= user.username %></a>
        </header>

        <div class="flex flex-col justify-center items-center pt-10">
            <div id="game-wrapper" class="bg-[url('/games/cashierGame/assets/background.png')] bg-cover bg-center bg-no-repeat">
        
                <!-- Écran d'accueil -->
                <div id="start-screen">
                <div id="start-box">
                    <div class="decor-top">
                    <img class="coin" src="games/cashierGame/assets/coins/0_50.png" alt="coin" />
                    <h1>Cashier Game</h1>
                    <img class="coin" src="games/cashierGame/assets/coins/2_00.png" alt="coin" />
                    </div>
                    <button onclick="startGame()">Jouer</button>
                </div>
                </div>
            
                <!-- Zone de jeu -->
                <div id="game-container" style="display: none;">
                <div id="header">
                    <p>Temps : <span id="timer">120</span>s</p>
                    <p>Niveau : <span id="level">1</span></p>
                    <p>Score : <span id="player-score">0</span></p>
                </div>
            
                <div id="controls">
                    <!-- Bouton Pause -->
                    <button id="pause-btn" onclick="togglePause()">Pause</button>
                <!-- Bouton debug au cas où <button onclick="debugNextLevel()">Debug</button> -->
                </div>
            
                <!--Obstacle chaussette-->
                <div id="obstacle" onclick="removeObstacle()">
                    <img src="games/cashierGame/assets/chaussette.png" alt="chaussette" />
                </div>
                <div id="cash-register" class="bg-[url('/games/cashierGame/assets/caisse.png')] bg-cover bg-center bg-no-repeat">
                    <img src="games/cashierGame/assets/chaussette.png" alt="Chaussette" class="sock-img">
                </div>
            
                <!--Overlay de pause-->
                <div id="pause-overlay" class="pause-overlay">
                    <span class="pause-text">Pause</span>
                </div>
            
                <!--Input du montant-->
                <div id="input-section">
                    <label for="player-total" id="total-label">Montant total (e) :</label>
                    <input type="number" id="player-total" step="0.01" placeholder="0.00" />
                    <button onclick="submitTotal()">Valider</button>
                </div>
                </div>
            
            </div>
          </div>
        
          <script src="games/cashierGame/js/game_cashier.js"></script>
    </body>
</html>